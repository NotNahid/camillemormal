<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regeneration Suite Intro</title>
    <style>
        /* --- 1. SETUP & RESET --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #050505; /* Deep black */
            font-family: 'Helvetica Neue', Arial, sans-serif;
            overflow: hidden; /* Prevents scrollbars during animation */
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* --- 2. THE PRE-LOADER --- */
        .loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #050505;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease; /* Fade out speed */
        }

        .loader-text {
            color: #ffffff;
            font-size: 14px;
            font-weight: 500;
        }

        /* --- 3. THE GRID CONTAINER --- */
        .grid-wrapper {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 1000px; /* Adds 3D depth */
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* 5 Columns */
            gap: 10px; /* The "Gutter" */
            width: 120vw; /* Wider than screen for immersive feel */
            
            /* INITIAL STATE: Zoomed IN and Invisible */
            transform: scale(2.5); 
            opacity: 0;
            filter: blur(10px);
            
            /* The Animation Transition */
            transition: transform 1.8s cubic-bezier(0.16, 1, 0.3, 1), 
                        opacity 1s ease, 
                        filter 1.8s ease;
            
            pointer-events: none; /* Can't click while loading */
        }

        /* Active State (Applied by JS) */
        .grid.active {
            transform: scale(1);
            opacity: 1;
            filter: blur(0px);
            pointer-events: all;
        }

        /* --- 4. GRID ITEMS --- */
        .grid-item {
            position: relative;
            width: 100%;
            padding-bottom: 140%; /* Aspect Ratio */
            background-color: #222;
            background-size: cover;
            background-position: center;
            cursor: pointer;
            transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.5s ease;
        }

        /* Staggered Masonry Look (Random heights) */
        .grid-item:nth-child(even) { padding-bottom: 100%; margin-top: 20px; }
        .grid-item:nth-child(3n) { padding-bottom: 160%; margin-top: -30px; }

        /* --- 5. THE 'HERO' SELECTION STATE --- */
        /* When we click an item, the grid fades out/pushes away */
        .grid.focus-mode .grid-item {
            transform: scale(0.8);
            opacity: 0;
        }

        /* The clicked item stays and centers */
        .grid.focus-mode .grid-item.is-hero {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(1.2);
            z-index: 50;
            opacity: 1;
            width: 300px; /* Fixed width for hero state */
            padding-bottom: 400px;
            margin: 0;
        }
        
    </style>
</head>
<body>

    <div class="loader-overlay" id="loader">
        <div class="loader-text" id="counter">10%</div>
    </div>

    <div class="grid-wrapper">
        <div class="grid" id="mainGrid">
            <div class="grid-item" style="background-image: url('https://picsum.photos/400/600?random=1')"></div>
            <div class="grid-item" style="background-image: url('https://picsum.photos/400/600?random=2')"></div>
            <div class="grid-item" style="background-image: url('https://picsum.photos/400/600?random=3')"></div>
            <div class="grid-item" style="background-image: url('https://picsum.photos/400/600?random=4')"></div>
            <div class="grid-item" style="background-image: url('https://picsum.photos/400/600?random=5')"></div>
            <div class="grid-item" style="background-image: url('https://picsum.photos/400/600?random=6')"></div>
            <div class="grid-item" style="background-image: url('https://picsum.photos/400/600?random=7')"></div>
            <div class="grid-item" id="centerPiece" style="background-image: url('https://picsum.photos/400/600?random=8')"></div> 
            <div class="grid-item" style="background-image: url('https://picsum.photos/400/600?random=9')"></div>
            <div class="grid-item" style="background-image: url('https://picsum.photos/400/600?random=10')"></div>
        </div>
    </div>

    <script>
        const counter = document.getElementById('counter');
        const loader = document.getElementById('loader');
        const grid = document.getElementById('mainGrid');
        const items = document.querySelectorAll('.grid-item');

        // --- STEP 1: THE COUNTER LOGIC ---
        let count = 10;
        
        // Simulating non-linear loading (jumps like data loads)
        const loadInterval = setInterval(() => {
            if (count >= 100) {
                clearInterval(loadInterval);
                finishLoading();
            } else {
                // Random jump between 5 and 20
                count += Math.floor(Math.random() * 15) + 5; 
                if(count > 100) count = 100;
                counter.innerText = count + "%";
            }
        }, 150); // Speed of updates

        // --- STEP 2: TRIGGER THE REVEAL ---
        function finishLoading() {
            // 1. Hide Loader
            setTimeout(() => {
                loader.style.opacity = '0';
                
                // 2. Remove loader from DOM after fade to prevent blocking clicks
                setTimeout(() => {
                    loader.style.display = 'none';
                }, 500);

                // 3. Trigger Grid Zoom-Out (The "Drop In")
                grid.classList.add('active');
            }, 200);
        }

        // --- STEP 3: THE INTERACTION (CLICK TO FOCUS) ---
        items.forEach(item => {
            item.addEventListener('click', function() {
                // Toggle state
                if(grid.classList.contains('focus-mode')) {
                    // Reset if already focused
                    grid.classList.remove('focus-mode');
                    items.forEach(i => i.classList.remove('is-hero'));
                } else {
                    // Enter focus mode
                    grid.classList.add('focus-mode');
                    this.classList.add('is-hero');
                }
            });
        });

        // Optional: Slight Parallax on Mouse Move (The "Float")
        document.addEventListener('mousemove', (e) => {
            if(grid.classList.contains('active') && !grid.classList.contains('focus-mode')){
                const x = (window.innerWidth - e.pageX * 2) / 100;
                const y = (window.innerHeight - e.pageY * 2) / 100;
                grid.style.transform = `scale(1) translate(${x}px, ${y}px)`;
            }
        });

    </script>
</body>
</html>
